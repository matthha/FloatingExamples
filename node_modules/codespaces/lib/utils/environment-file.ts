import { RawCodespacesEnvironment } from "../typings/schema";
import { readFileSync } from "fs";

const ENCODING: BufferEncoding = "utf-8";
const FILE_PATH: string =
  "/workspaces/.codespaces/shared/environment-variables.json";

export const getEnvironmentFileContents = ():
  | RawCodespacesEnvironment
  | undefined => {
  try {
    const contents = readFileSync(FILE_PATH, ENCODING);
    return JSON.parse(contents) as RawCodespacesEnvironment;
  } catch {}
};
