import { getCodespacesEnvironment } from "./transform";

type CodespacesTunnelOptions = {
  port: number;
  protocol?: "http" | "https";
};

export const getCodespacesTunnelUrl = ({
  port,
  protocol = "https",
}: CodespacesTunnelOptions) => {
  const { isCodespaces, name } = getCodespacesEnvironment();
  if (!isCodespaces) return;

  return `${protocol}://${name}-${port}.githubpreview.dev`;
};
